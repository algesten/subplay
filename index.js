!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.subplay=e()}}(function(){return function e(n,r,t){function i(u,f){if(!r[u]){if(!n[u]){var l="function"==typeof require&&require;if(!f&&l)return l(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=r[u]={exports:{}};n[u][0].call(a.exports,function(e){var r=n[u][1][e];return i(r?r:e)},a,a.exports,e,n,r,t)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<t.length;u++)i(t[u]);return i}({1:[function(e,n,r){(function(){var r,t,i,o,u,f,l,a,d=[].slice;l=e("subtitles-parser"),f=function(){var e,n,r,t,i,o,u;for(o=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],e=0,r=i.length;e<r;e++){t=i[e];for(n in t)u=t[n],void 0!==u&&(o[n]=u)}return o},o=function(e){return"string"==typeof e},i=function(e){return"function"==typeof e},r={millis:!1},t=function(e,n){return null==(null!=n?n.endTime:void 0)||e>(null!=n?n.endTime:void 0)?void 0:n.endTime-e},u=function(e,n,r,i){var o,f,l,a,d,s,c;if(null==i&&(i=!0),void 0===r){if(l=e[e.length-1],t(n,void 0===l))return;r=0,i=!1}return o=e[r],f=t(n,o),i&&null!=f&&(s=e[r-1],c=t(n,s),null!=c&&c<f)?u(e,n,0,!1):null==f&&r+1>=e.length?void 0:(a=e[r+1],d=t(n,a),null==f||d<f?u(e,n,r+1,!1):r)},a=function(e,n,t){var a,d,s,c,m,v;if(null==t&&(t={}),!o(e))throw new Error("Bad srt");if(!i(n))throw new Error("Bad renderer");return t=f({},r,t),d=l.fromSrt(e,!0),c=0,a=null,m=null,s=0,v=function(e,r,i){var o,f,l,p;if(null==r&&(r=t.millis),null==i&&(i=!1),l=function(e,r,t){return m=setTimeout(function(){if(null!==a&&null!==t&&n(""),n(r),a=t,Date.now()-s<5e3)return v(f+(Date.now()-p)+5,!0,!0)},e)},f=r?e:1e3*e,c=u(d,f,c),void 0!==c)if(o=d[c],p=Date.now(),i||(s=p),m&&clearTimeout(m),f<0);else if(f<o.startTime){if(o!==a)return a&&l(0,"",null),l(o.startTime-f,o.text,o)}else if(f<o.endTime)return a===o?l(o.endTime-f,"",null):l(0,o.text,o)}},n.exports=a}).call(this)},{"subtitles-parser":2}],2:[function(e,n,r){var t=function(){var e={};e.fromSrt=function(e,r){var t=!!r;e=e.replace(/\r/g,"");var i=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;e=e.split(i),e.shift();for(var o=[],u=0;u<e.length;u+=4)o.push({id:e[u].trim(),startTime:t?n(e[u+1].trim()):e[u+1].trim(),endTime:t?n(e[u+2].trim()):e[u+2].trim(),text:e[u+3].trim()});return o},e.toSrt=function(e){if(!e instanceof Array)return"";for(var n="",t=0;t<e.length;t++){var i=e[t];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=r(parseInt(i.startTime,10)),i.endTime=r(parseInt(i.endTime,10))),n+=i.id+"\r\n",n+=i.startTime+" --> "+i.endTime+"\r\n",n+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return n};var n=function(e){var n=/(\d+):(\d{2}):(\d{2}),(\d{3})/,r=n.exec(e);if(null===r)return 0;for(var t=1;t<5;t++)r[t]=parseInt(r[t],10),isNaN(r[t])&&(r[t]=0);return 36e5*r[1]+6e4*r[2]+1e3*r[3]+r[4]},r=function(e){var n=[36e5,6e4,1e3],r=[];for(var t in n){var i=(e/n[t]>>0).toString();i.length<2&&(i="0"+i),e%=n[t],r.push(i)}var o=e.toString();if(o.length<3)for(t=0;t<=3-o.length;t++)o="0"+o;return r.join(":")+","+o};return e}();"object"==typeof r&&(n.exports=t)},{}]},{},[1])(1)});
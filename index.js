!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.subplay=n()}}(function(){return function n(e,r,t){function i(o,f){if(!r[o]){if(!e[o]){var l="function"==typeof require&&require;if(!f&&l)return l(o,!0);if(u)return u(o,!0);throw new Error("Cannot find module '"+o+"'")}var a=r[o]={exports:{}};e[o][0].call(a.exports,function(n){var r=e[o][1][n];return i(r?r:n)},a,a.exports,n,e,r,t)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<t.length;o++)i(t[o]);return i}({1:[function(n,e,r){(function(){e.exports=n("./sub")}).call(this)},{"./sub":2}],2:[function(n,e,r){(function(){var r,t,i,u,o,f,l,a,s,d=[].slice;a=n("subtitles-parser"),i=function(){var n;return null!=(n=document.getElementsByTagName("video"))?n[0]:void 0},l=function(){var n,e,r,t,i,u,o;for(u=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],n=0,r=i.length;r>n;n++){t=i[n];for(e in t)o=t[e],void 0!==o&&(u[e]=o)}return u},o=function(n){return"string"==typeof n},u=function(n){return"function"==typeof n},r={millis:!1},t=function(n,e){return null==(null!=e?e.endTime:void 0)||n>(null!=e?e.endTime:void 0)?void 0:e.endTime-n},f=function(n,e,r,i){var u,o,l,a,s,d;return null==i&&(i=!0),u=n[r],o=t(e,u),i&&null!=o&&(s=n[r-1],d=t(e,s),null!=d&&o>d)?f(n,e,0,!1):(l=n[r+1],a=t(e,l),null==o||o>a?f(n,e,r+1,!1):r)},s=function(n,e,t){var i,s,d,c,m;if(null==t&&(t={}),!o(n))throw new Error("Bad srt");if(!u(e))throw new Error("Bad renderer");return t=l({},r,t),s=a.fromSrt(n,!0),d=0,i=null,c=null,m=function(n,r){var u,o,l,a;if(null==r&&(r=t.millis),o=r?n:1e3*n,d=f(s,o,d),u=s[d],a=Date.now(),l=function(n,r,t){return c=setTimeout(function(){return null!==i&&null!==t&&e(""),e(r),i=t,m(o+(Date.now()-a)+5,!0)},n)},c&&clearTimeout(c),0>o);else if(o<u.startTime){if(u!==i)return i&&l(0,"",null),l(u.startTime-o,u.text,u)}else if(o<u.endTime)return i===u?l(u.endTime-o,"",null):l(0,u.text,u)}},e.exports=s}).call(this)},{"subtitles-parser":3}],3:[function(n,e,r){var t=function(){var n={};n.fromSrt=function(n,r){var t=r?!0:!1;n=n.replace(/\r/g,"");var i=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;n=n.split(i),n.shift();for(var u=[],o=0;o<n.length;o+=4)u.push({id:n[o].trim(),startTime:t?e(n[o+1].trim()):n[o+1].trim(),endTime:t?e(n[o+2].trim()):n[o+2].trim(),text:n[o+3].trim()});return u},n.toSrt=function(n){if(!n instanceof Array)return"";for(var e="",t=0;t<n.length;t++){var i=n[t];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=r(parseInt(i.startTime,10)),i.endTime=r(parseInt(i.endTime,10))),e+=i.id+"\r\n",e+=i.startTime+" --> "+i.endTime+"\r\n",e+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return e};var e=function(n){var e=/(\d+):(\d{2}):(\d{2}),(\d{3})/,r=e.exec(n);if(null===r)return 0;for(var t=1;5>t;t++)r[t]=parseInt(r[t],10),isNaN(r[t])&&(r[t]=0);return 36e5*r[1]+6e4*r[2]+1e3*r[3]+r[4]},r=function(n){var e=[36e5,6e4,1e3],r=[];for(var t in e){var i=(n/e[t]>>0).toString();i.length<2&&(i="0"+i),n%=e[t],r.push(i)}var u=n.toString();if(u.length<3)for(t=0;t<=3-u.length;t++)u="0"+u;return r.join(":")+","+u};return n}();"object"==typeof r&&(e.exports=t)},{}]},{},[1])(1)});
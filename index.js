!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.subplay=e()}}(function(){return function e(n,r,t){function i(o,l){if(!r[o]){if(!n[o]){var f="function"==typeof require&&require;if(!l&&f)return f(o,!0);if(u)return u(o,!0);throw new Error("Cannot find module '"+o+"'")}var a=r[o]={exports:{}};n[o][0].call(a.exports,function(e){var r=n[o][1][e];return i(r?r:e)},a,a.exports,e,n,r,t)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<t.length;o++)i(t[o]);return i}({1:[function(e,n,r){(function(){var r,t,i,u,o,l,f,a,d,s=[].slice;a=e("subtitles-parser"),i=function(){var e;return null!=(e=document.getElementsByTagName("video"))?e[0]:void 0},f=function(){var e,n,r,t,i,u,o;for(u=arguments[0],i=2<=arguments.length?s.call(arguments,1):[],e=0,r=i.length;r>e;e++){t=i[e];for(n in t)o=t[n],void 0!==o&&(u[n]=o)}return u},o=function(e){return"string"==typeof e},u=function(e){return"function"==typeof e},r={millis:!1},t=function(e,n){return null==(null!=n?n.endTime:void 0)||e>(null!=n?n.endTime:void 0)?void 0:n.endTime-e},l=function(e,n,r,i){var u,o,f,a,d,s;return null==i&&(i=!0),u=e[r],o=t(n,u),i&&null!=o&&(d=e[r-1],s=t(n,d),null!=s&&o>s)?l(e,n,0,!1):(f=e[r+1],a=t(n,f),null==o||o>a?l(e,n,r+1,!1):r)},d=function(e,n,t){var i,d,s,c,m,v;if(null==t&&(t={}),!o(e))throw new Error("Bad srt");if(!u(n))throw new Error("Bad renderer");return t=f({},r,t),d=a.fromSrt(e,!0),c=0,i=null,m=null,s=0,v=function(e,r,u){var o,f,a,p;if(null==r&&(r=t.millis),null==u&&(u=!1),f=r?e:1e3*e,c=l(d,f,c),o=d[c],p=Date.now(),u||(s=p),a=function(e,r,t){return m=setTimeout(function(){return null!==i&&null!==t&&n(""),n(r),i=t,Date.now()-s<5e3?v(f+(Date.now()-p)+5,!0,!0):void 0},e)},m&&clearTimeout(m),0>f);else if(f<o.startTime){if(o!==i)return i&&a(0,"",null),a(o.startTime-f,o.text,o)}else if(f<o.endTime)return i===o?a(o.endTime-f,"",null):a(0,o.text,o)}},n.exports=d}).call(this)},{"subtitles-parser":2}],2:[function(e,n,r){var t=function(){var e={};e.fromSrt=function(e,r){var t=r?!0:!1;e=e.replace(/\r/g,"");var i=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;e=e.split(i),e.shift();for(var u=[],o=0;o<e.length;o+=4)u.push({id:e[o].trim(),startTime:t?n(e[o+1].trim()):e[o+1].trim(),endTime:t?n(e[o+2].trim()):e[o+2].trim(),text:e[o+3].trim()});return u},e.toSrt=function(e){if(!e instanceof Array)return"";for(var n="",t=0;t<e.length;t++){var i=e[t];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=r(parseInt(i.startTime,10)),i.endTime=r(parseInt(i.endTime,10))),n+=i.id+"\r\n",n+=i.startTime+" --> "+i.endTime+"\r\n",n+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return n};var n=function(e){var n=/(\d+):(\d{2}):(\d{2}),(\d{3})/,r=n.exec(e);if(null===r)return 0;for(var t=1;5>t;t++)r[t]=parseInt(r[t],10),isNaN(r[t])&&(r[t]=0);return 36e5*r[1]+6e4*r[2]+1e3*r[3]+r[4]},r=function(e){var n=[36e5,6e4,1e3],r=[];for(var t in n){var i=(e/n[t]>>0).toString();i.length<2&&(i="0"+i),e%=n[t],r.push(i)}var u=e.toString();if(u.length<3)for(t=0;t<=3-u.length;t++)u="0"+u;return r.join(":")+","+u};return e}();"object"==typeof r&&(n.exports=t)},{}]},{},[1])(1)});
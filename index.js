!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.subplay=n()}}(function(){return function n(e,r,t){function i(u,l){if(!r[u]){if(!e[u]){var f="function"==typeof require&&require;if(!l&&f)return f(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=r[u]={exports:{}};e[u][0].call(a.exports,function(n){var r=e[u][1][n];return i(r?r:n)},a,a.exports,n,e,r,t)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<t.length;u++)i(t[u]);return i}({1:[function(n,e,r){(function(){var r,t,i,o,u,l,f,a,d=[].slice;f=n("subtitles-parser"),l=function(){var n,e,r,t,i,o,u;for(o=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],n=0,r=i.length;n<r;n++){t=i[n];for(e in t)u=t[e],void 0!==u&&(o[e]=u)}return o},o=function(n){return"string"==typeof n},i=function(n){return"function"==typeof n},r={millis:!1},t=function(n,e){return null==(null!=e?e.endTime:void 0)||n>(null!=e?e.endTime:void 0)?void 0:e.endTime-n},u=function(n,e,r,i){var o,l,f,a,d,s,c;if(null==i&&(i=!0),void 0===r){if(f=n[n.length-1],t(e,void 0===f))return;r=0,i=!1}return o=n[r],l=t(e,o),i&&null!=l&&(s=n[r-1],c=t(e,s),null!=c&&c<l)?u(n,e,0,!1):null==l&&r+1>=n.length?void 0:(a=n[r+1],d=t(e,a),null==l||d<l?u(n,e,r+1,!1):r)},a=function(n,e,t){var a,d,s,c,m,v;if(null==t&&(t={}),!o(n))throw new Error("Bad srt");if(!i(e))throw new Error("Bad renderer");return t=l({},r,t),d=f.fromSrt(n,!0),c=0,a=null,m=null,s=0,v=function(n,r,i){var o,l,f,p;if(null==r&&(r=t.millis),null==i&&(i=!1),l=r?n:1e3*n,c=u(d,l,c),o=d[c],p=Date.now(),i||(s=p),f=function(n,r,t){return m=setTimeout(function(){if(null!==a&&null!==t&&e(""),e(r),a=t,Date.now()-s<5e3)return v(l+(Date.now()-p)+5,!0,!0)},n)},m&&clearTimeout(m),l<0);else{if(void 0===c)return f(0,"",null);if(l<o.startTime){if(o!==a)return a&&f(0,"",null),f(o.startTime-l,o.text,o)}else if(l<o.endTime)return a===o?f(o.endTime-l,"",null):f(0,o.text,o)}}},e.exports=a}).call(this)},{"subtitles-parser":2}],2:[function(n,e,r){var t=function(){var n={};n.fromSrt=function(n,r){var t=!!r;n=n.replace(/\r/g,"");var i=/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g;n=n.split(i),n.shift();for(var o=[],u=0;u<n.length;u+=4)o.push({id:n[u].trim(),startTime:t?e(n[u+1].trim()):n[u+1].trim(),endTime:t?e(n[u+2].trim()):n[u+2].trim(),text:n[u+3].trim()});return o},n.toSrt=function(n){if(!n instanceof Array)return"";for(var e="",t=0;t<n.length;t++){var i=n[t];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=r(parseInt(i.startTime,10)),i.endTime=r(parseInt(i.endTime,10))),e+=i.id+"\r\n",e+=i.startTime+" --> "+i.endTime+"\r\n",e+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return e};var e=function(n){var e=/(\d+):(\d{2}):(\d{2}),(\d{3})/,r=e.exec(n);if(null===r)return 0;for(var t=1;t<5;t++)r[t]=parseInt(r[t],10),isNaN(r[t])&&(r[t]=0);return 36e5*r[1]+6e4*r[2]+1e3*r[3]+r[4]},r=function(n){var e=[36e5,6e4,1e3],r=[];for(var t in e){var i=(n/e[t]>>0).toString();i.length<2&&(i="0"+i),n%=e[t],r.push(i)}var o=n.toString();if(o.length<3)for(t=0;t<=3-o.length;t++)o="0"+o;return r.join(":")+","+o};return n}();"object"==typeof r&&(e.exports=t)},{}]},{},[1])(1)});